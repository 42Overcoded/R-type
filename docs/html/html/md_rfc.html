<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>R-Type: rfc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">R-Type
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">R-Type is a 2D shoot&#39;em up game.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">rfc </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>RFC Authors : <code>M. Jalbert</code>, <code>M. Peireto</code>, <code>F. Azema</code>, <code>S. Borisenko</code>, <code>J. Vignau-Espine</code> Date : <code>7 October 2023</code></p>
<hr  />
<h1><a class="anchor" id="autotoc_md55"></a>
Game Transmission Protocol (GTP)</h1>
<h2><a class="anchor" id="autotoc_md56"></a>
Status of this Memo</h2>
<p>This memo is the official specification of the Game Transmission Protocol (GTP).</p>
<p>Distribution of this memo is unlimited.</p>
<h2><a class="anchor" id="autotoc_md57"></a>
Index</h2>
<ul>
<li><a href="#game-transmission-protocol-gtp">Game Transmission Protocol (GTP)</a><ul>
<li><a href="#status-of-this-memo">Status of this Memo</a></li>
<li><a href="#index">Index</a></li>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#overview">Overview</a><ul>
<li><a href="#history">History</a></li>
<li><a href="#terminology">Terminology</a></li>
</ul>
</li>
<li><a href="#the-gtp-model">The GTP Model</a></li>
<li><a href="#commands">Commands</a><ul>
<li><a href="#servergetping">ServerGetPing</a></li>
<li><a href="#serverconnect">ServerConnect</a></li>
<li><a href="#serverupdatecontrols">ServerUpdateControls</a></li>
<li><a href="#clientaccepted">ClientAccepted</a></li>
<li><a href="#clientdenied">ClientDenied</a></li>
<li><a href="#clientassignid">ClientAssignID</a></li>
<li><a href="#clientsendping">ClientSendPing</a></li>
<li><a href="#clientaddplayer">ClientAddPlayer</a></li>
<li><a href="#clientremoveplayer">ClientRemovePlayer</a></li>
<li><a href="#clientcreateentity">ClientCreateEntity</a></li>
<li><a href="#clientupdateentity">ClientUpdateEntity</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md58"></a>
Introduction</h2>
<p>The Game Transmission Protocol (GTP) is defined to make available a fast packet transmission of packet-switched computer communication in the environment of an interconnected set of computer networks. This protocol assumes that the User Datagram Protocol (UDP) <a href="https://www.ietf.org/rfc/rfc768.txt">RFC 768</a> is used as the underlying protocol.</p>
<p>This protocol provide a procedure for games to communicate with a server. It uses UDP as a fast packet-switched computer communication protocol. Therefore the protocol is transaction oriented, and delivery and duplicate protection are not guaranteed.</p>
<h2><a class="anchor" id="autotoc_md59"></a>
Overview</h2>
<p>In this section, the history, the terminology, and the GTP model are discussed. The terms defined in this section are only those that have special significance in GTP. Some of the terminology is very specific to the GTP model; some readers may wish to turn to the section on the GTP model while reviewing the terminology.</p>
<h3><a class="anchor" id="autotoc_md60"></a>
History</h3>
<p>The Game Transmission Protocol come from a long tradition at the Epitech school. Every year, 3nd year students have to work in teams to create a protocol allowing a fast communication between multiple game clients an a server.</p>
<p>This protocol has been originally developed to create a multiplayer version of the R-type game. R-Type is a horizontally scrolling shooter arcade video game developed and released by Irem in 1987 and the first game in the R-Type series. The player controls a star ship, the R-9 "Arrowhead", in its efforts to destroy the Bydo, a powerful alien race bent on wiping out all of mankind. The R-9 can acquire a glowing orbicular device called a "Force", protecting it from enemy fire and providing additional firepower. The arcade version was distributed by Nintendo in North America; it is the last arcade title Nintendo distributed.</p>
<h3><a class="anchor" id="autotoc_md61"></a>
Terminology</h3>
<p>GTP</p>
<div class="fragment"><div class="line">Game Transmission Protocol</div>
</div><!-- fragment --><p>UDP</p>
<div class="fragment"><div class="line">User Datagram Protocol</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md62"></a>
The GTP Model</h2>
<p>With the above definitions in mind, the following model (shown in Figure 1) may be diagrammed for an GTP service.</p>
<div class="fragment"><div class="line">/------------------------------------\</div>
<div class="line">|      |              |              |</div>
<div class="line">| Flag | Payload Size |   Payload    |</div>
<div class="line">|      |              |              |</div>
<div class="line">|------------------------------------|</div>
<div class="line">|                                    |</div>
<div class="line">|                UDP                 |</div>
<div class="line">|                                    |</div>
<div class="line">\------------------------------------/</div>
</div><!-- fragment --><p>As you can see, the GTP is just on top of the UDP. That allow it to be lightweight and highly efficient.</p>
<p><code>Flag</code> is a 4 bytes long (uint32_t) number. It define the following message. <code>Size</code> is a 4 bytes long (uint32_t) number. It describe the size in bit of the payload. Value of 0 in case of no payload. <code>Payload</code> is a structure containing different information. It will change depending of the value of the header.</p>
<h2><a class="anchor" id="autotoc_md63"></a>
Commands</h2>
<p>The following commands are available in the GTP protocol.</p>
<div class="fragment"><div class="line">| Command |  Description         |</div>
<div class="line">| ------- | -------------------- |</div>
<div class="line">| 0x00    | ServerGetPing        |</div>
<div class="line">| 0x01    | ServerConnect        |</div>
<div class="line">| 0x02    | ServerUpdateControls |</div>
<div class="line">| 0x03    | ClientAccepted       |</div>
<div class="line">| 0x04    | ClientDenied         |</div>
<div class="line">| 0x05    | ClientAssignID       |</div>
<div class="line">| 0x06    | ClientSendPing       |</div>
<div class="line">| 0x07    | ClientAddPlayer      |</div>
<div class="line">| 0x08    | ClientRemovePlayer   |</div>
<div class="line">| 0x09    | ClientCreateEntity   |</div>
<div class="line">| 0x0A    | ClientUpdateEntity   |</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md64"></a>
ServerGetPing</h3>
<ul>
<li>Origin : Client</li>
<li>Flag : 0x00</li>
<li>Size : 0x00</li>
<li>Payload : None</li>
</ul>
<p>Description : This command is used to check if the server is still alive.</p>
<h3><a class="anchor" id="autotoc_md65"></a>
ServerConnect</h3>
<ul>
<li>Origin : Client</li>
<li>Flag : 0x01</li>
<li>Size : 0x00</li>
<li>Payload : None</li>
<li>Response : ClientAccepted</li>
<li>Response : ClientAssignID</li>
</ul>
<p>Description : This command is used to connect to the server.</p>
<h3><a class="anchor" id="autotoc_md66"></a>
ServerUpdateControls</h3>
<ul>
<li>Origin : Client</li>
<li>Flag : 0x02</li>
<li>Size : 0x05 (bool * 5)</li>
<li>Payload : [bool, bool, bool, bool, bool]</li>
</ul>
<p>Description : This command is used to update the controls of the player.</p>
<h3><a class="anchor" id="autotoc_md67"></a>
ClientAccepted</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x03</li>
<li>Size : 0x00</li>
<li>Payload : None</li>
</ul>
<p>Description : This command is used to confirm the connection to the server.</p>
<h3><a class="anchor" id="autotoc_md68"></a>
ClientDenied</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x04</li>
<li>Size : 0x00</li>
<li>Payload : None</li>
</ul>
<p>Description : This command is used to deny the connection to the server.</p>
<h3><a class="anchor" id="autotoc_md69"></a>
ClientAssignID</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x05</li>
<li>Size : 0x04 (uint32_t)</li>
<li>Payload : [uint32_t]</li>
</ul>
<p>Description : This command is used to assign an ID to the client.</p>
<h3><a class="anchor" id="autotoc_md70"></a>
ClientSendPing</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x06</li>
<li>Size : 0x00</li>
<li>Payload : None</li>
</ul>
<p>Description : This command is used to check if the client is still alive. (Response to ServerGetPing)</p>
<h3><a class="anchor" id="autotoc_md71"></a>
ClientAddPlayer</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x07</li>
<li>Size : 0x04 (uint32_t)</li>
<li>Payload : [uint32_t]</li>
</ul>
<p>Description : This command is used to add a player to the game.</p>
<h3><a class="anchor" id="autotoc_md72"></a>
ClientRemovePlayer</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x08</li>
<li>Size : 0x04 (uint32_t)</li>
<li>Payload : [uint32_t]</li>
</ul>
<p>Description : This command is used to remove a player from the game.</p>
<h3><a class="anchor" id="autotoc_md73"></a>
ClientCreateEntity</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x09</li>
<li>Size : 0x0C (uint32_t * 3)</li>
<li>Payload : [uint32_t, uint32_t, uint32_t]</li>
</ul>
<p>Description : This command is used to create an entity in the game.</p>
<h3><a class="anchor" id="autotoc_md74"></a>
ClientUpdateEntity</h3>
<ul>
<li>Origin : Server</li>
<li>Flag : 0x0A</li>
<li>Size : 0x0C (uint32_t * 3)</li>
<li>Payload : [uint32_t, uint32_t, uint32_t]</li>
</ul>
<p>Description : This command is used to update an entity in the game. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
